<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Resources</title>
    <link rel="stylesheet" href="resources.css">
</head>
<body>
    <div id="title">
        <h1 id="name">Resources</h1>
        <i>Want any book or software? Just Ask!</i><br>
        <i>And if you have anything that someone needs, do help...</i>
    </div>
    <div class="wantSomething">
        <i>Want something?</i>
        <input type="button" class="searchResource" value="Search to see if someone has already requested for it" />
        <i>Or</i>
        <input type="button" class="searchResource" value="Be the first one to ask!" onclick="addRequest()">
    </div>
   
    
    <div id="discussionTile">
            
    </div>
    
</body>
<script>
    function addRequest(){
        var title = prompt("Enter a short and concise title");
        if(title!=undefined){
            var msg = prompt("Describe your request");
            var outer = document.getElementById("discussionTile");
            var request = document.createElement("div");
            request.setAttribute("class","requests");
            request.setAttribute("id", title.trim()+"Req")
            var titleDiv = document.createElement("div");
            titleDiv.setAttribute("class", "titles");
            titleDiv.innerHTML = title;
            titleDiv.setAttribute("id", title.trim() + "Title");
            request.appendChild(titleDiv);
            msgDiv = document.createElement("div");
            msgDiv.setAttribute("class", "descriptions");
            msgDiv.innerHTML = msg;
            request.appendChild(msgDiv);
            outer.appendChild(request);
            replyBtn = document.createElement("input");
            replyBtn.setAttribute("type", "button");
            replyBtn.setAttribute("id", title.trim());
            replyBtn.setAttribute("class", "replyBtns");
            //replyBtn.setAttribute("onclick", "reply()");
            replyBtn.setAttribute("value","Reply");
            replyBtn.addEventListener("click", reply);
            request.appendChild(replyBtn);
        }
    }

    function reply(e){
        console.log(e.target.id + "Btn");
        outer = document.getElementById(e.target.id + "Req");
        console.log(outer);
        var name = prompt("Enter your name");
        if(name!=undefined){
            var reply = prompt("Leave your message");
            var nameDiv = document.createElement("div");
            nameDiv.setAttribute("class", "names");
            nameDiv.innerHTML = name;
            var replyDiv = document.createElement("div");
            replyDiv.setAttribute("class", "replies");
            var replyMsg = document.createElement("div");
            replyMsg.setAttribute("class", "replyMsgs");
            replyMsg.innerHTML = reply;
            replyDiv.appendChild(nameDiv);
            replyDiv.appendChild(replyMsg);
            outer.appendChild(replyDiv);
        }
    }
    
</script>
</html>